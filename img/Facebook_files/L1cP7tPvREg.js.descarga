if (self.CavalryLogger) { CavalryLogger.start_js(["w5r7W"]); }

__d("XVideoUnifiedCVCControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);e.exports=a}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){g.useEffect(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";e.exports=d;var g=b("React");function c(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function h(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var i=c();function j(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=h(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){var d=g.useState(function(){return j()}),e=d[0],f=d[1],h=!!c&&c.scrollTerminatesBackgrounded===!0;d=g.useCallback(function(){f(j())},[f,j]);c=d;var k=g.useCallback(function(){var a=j();a&&h&&e&&f(!1)},[e,h,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,i,d);b("useEventCallbackOn")(a.window,"scroll",k);return e}}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:d,children:c})})}}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";f.wrapWithContextProviders=a;f.makeRenderProviderFn=c;var g=b("React");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,b){return function(c){return g.jsx(a.Provider,{value:b,children:c})}}}),null);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","requireCond","setTimeout","stylex","wrapWithContextProviders","cr:1269159"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=g.useRef(a);g.useEffect(function(){c.current=a},[a]);var d=g.useState(!1),e=d[0],f=d[1];d=g.useState(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var h=d.cleanup;d=d.pingNotIdle;g.useEffect(function(){return h},[h]);return{isIdle:e,pingNotIdle:d}}function i(){var a=g.useState(!1),b=a[0],c=a[1];a=3e3;a=h(a);var d=a.isIdle,e=a.pingNotIdle;a=g.useCallback(function(){c(!0),e()},[e]);var f=g.useCallback(function(){c(!1),e()},[e]),i=g.useCallback(function(){c(!0),e()},[e]),j=g.useCallback(function(){e()},[e]),k=g.useCallback(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:j,onMouseEnter:a,onMouseLeave:f,onMouseMove:i,onMouseUp:k}}function j(a){var c=i(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,h=c.onMouseEnter,j=c.onMouseLeave,k=c.onMouseMove;c=c.onMouseUp;var l=b("VideoPlayerHooks").useIsFullscreen();return g.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(l&&e?" sorcqhzv":"")},b("CometVisualCompletionAttributes").IGNORE,{onMouseDown:f,onMouseEnter:h,onMouseLeave:j,onMouseMove:k,onMouseUp:c,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:d,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:e,children:a.children})})}))}function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.autoplayGatingResult,f=a.broadcastStatus,h=a.canAutoplay,i=a.controller,k=a.dimensions,l=a.instanceKey,m=a.isFullscreen,n=a.lastMuteReason,o=a.lastPauseReason,p=a.lastPlayReason,q=a.originalHeight,r=a.originalWidth,s=a.videoFBID,t=a.videoPlayerPassiveViewabilityInfo,u=a.videoState,v=u.activeCaptions,w=u.availableVideoQualities,x=u.bufferEnd,y=u.captionsLoaded,z=u.captionsVisible,A=u.currentVideoQuality,B=u.duration,C=u.ended,D=u.error,E=u.inbandCaptionsAutogenerated,F=u.inPlayStalling,G=u.isAbrEnabled,H=u.isLiveRewindActive,I=u.loopCount,J=u.loopCurrent,K=u.muted,L=u.paused,M=u.playerImplementationName,N=u.playing,O=u.seekableRanges,P=u.seeking,Q=u.selectedVideoQuality,R=u.stalling,S=u.streamInterrupted,T=u.targetAudioQuality,U=u.targetVideoQuality;u=u.volume;c=g.jsx(j,{children:c});b("cr:1269159")(l,{controller:i,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:t});s=(a=b("wrapWithContextProviders")).wrapWithContextProviders(c,[a.makeRenderProviderFn((c=b("VideoPlayerContexts")).VideoFBIDContext,s),a.makeRenderProviderFn(c.StallingContext,R),a.makeRenderProviderFn(c.PlayingContext,N),a.makeRenderProviderFn(c.InPlayStallingContext,F),a.makeRenderProviderFn(c.BufferEndContext,x),a.makeRenderProviderFn(c.LastMuteReasonContext,n),a.makeRenderProviderFn(c.LastPlayReasonContext,p),a.makeRenderProviderFn(c.LastPauseReasonContext,o),a.makeRenderProviderFn(c.PausedContext,L),a.makeRenderProviderFn(c.CurrentVideoQualityContext,A),a.makeRenderProviderFn(c.MutedContext,K),a.makeRenderProviderFn(c.VolumeContext,u),a.makeRenderProviderFn(c.SelectedVideoQualityContext,Q),a.makeRenderProviderFn(c.SeekingContext,P),a.makeRenderProviderFn(c.DurationContext,B),a.makeRenderProviderFn(c.EndedContext,C),a.makeRenderProviderFn(c.ErrorContext,D),a.makeRenderProviderFn(c.DimensionsContext,k||null),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InstanceKeyContext,l),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ControllerContext,i),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AvailableVideoQualitiesContext,w),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlayerImplementationNameContext,M),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsAbrEnabledContext,G),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetAudioQualityContext,T),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetVideoQualityContext,U),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CanAutoplayContext,h),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AutoplayGatingResultContext,e),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").BroadcastStatusContext,f),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCountContext,I),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCurrentContext,J),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AdClientTokenContext,d),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ActiveCaptionsContext,v),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsVisibleContext,z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsLoadedContext,y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,E),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").StreamInterruptedContext,S),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").SeekableRangesContext,O),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsLiveRewindActiveContext,H),function(a){return g.jsx(b("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:q,originalWidth:r,children:a})},function(a){return g.jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:m,videoPlayerPassiveViewabilityInfo:t,children:a})}]);return g.jsx("div",{"data-instancekey":l,"data-testid":void 0,children:s})}c=g.memo(a);e.exports=c}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.makeVideoID=a;f.ensureVideoID=c;f.makePlaceID=d;function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createFullscreenController=a;function g(a){return a.current!=null&&b("CometFullScreen").getFullScreenElement()===a.current}function a(a){var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return g(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==g(a)&&(c===!0?b("CometFullScreen").requestFullScreen(d):c===!1&&b("CometFullScreen").exitFullScreen())},subscribe:function(a){c.length===0&&e==null&&(e=b("CometFullScreen").subscribeToFullScreenChangeEvent(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}}),null);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","React","gkx","usePrevious"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerPortalingPlaceState=a;var g=b("React");c=function(a,c){var d=b("usePrevious")(a);g.useEffect(function(){a!==d&&(d!==null&&d&&!a&&c(b("GlobalVideoPortsID").makeVideoID()))},[a,d,c])};d=function(a,c){var d=g.useState(null),e=d[0];d=d[1];a!==e&&(e!==null&&e&&!a&&c(b("GlobalVideoPortsID").makeVideoID()),d(a))};var h=b("gkx")("1375802")?d:c;f.useRegenerateUniqueVideoID_exportedForTest=h;function a(a){var c=a.portalingEnabled;a=a.portalingFromVideoID;var d=b("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=b("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=b("GlobalVideoPortsContexts").useGlobalVideoPortsState(),i=e!=null&&f!=null,j=(i||d!=null)&&(c||a!=null),k=g.useState(function(){return b("GlobalVideoPortsID").makePlaceID()});k=k[0];var l=g.useState(function(){return b("GlobalVideoPortsID").makeVideoID()}),m=l[0];l=l[1];c=j&&c&&a!=null;a=c&&a!=null?a:m;h(c,l);g.useEffect(function(){j&&!i&&d&&d()},[i,j,d]);return{canBecomePortableLater:j,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:k}}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,h=a.globalVideoPortsState,i=a.implementations,j=a.isFullscreen,k=a.portablePlaceMetaData,l=a.renderComponents,m=a.renderPlaceholder,n=a.thisPlaceID,o=a.trackingDataEncrypted,p=a.trackingNodes,q=a.viewportMarginsForViewability;a=g.useState(function(){return b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var r=a[0],s=g.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:i,injectCoreVideoStatesRef:s,isFullscreen:j,portablePlaceContainer:r,portablePlaceID:n,portablePlaceMetaData:k,portableVideoID:d,renderComponents:l,renderPlaceholder:m,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:q})},[].concat(b("getOwnObjectValues")(c),[d,e,j,f,r],b("getOwnObjectValues")(k||{}),[l,m,n,o,p,q]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:n})}},[f,n]);a=f.getPortableVideoState(h,d);return g.jsxs(g.Fragment,{children:[g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:r},n),g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:(h=(h=f.getCurrentPlaceStateForVideo(h,d))==null?void 0:h.portablePlaceID)!=null?h:null,currentVideoID:d,injectCoreVideoStatesRef:s,previousPlaceMetaData:(h=a==null?void 0:a.previousPlaceMetaData)!=null?h:null,renderComponents:l,thisPlaceID:n})]})}}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","gkx","recoverableViolation","useMergeRefs","useStable","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={bottom:0,left:0,right:0,top:0};function i(a){a=a||{onVPVDEnd:function(a){}};return b("useVPVDImpression")(a)}var j=g.forwardRef(function(a,c){var d=a.children;a=a.debugRole;return g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:c,children:d})});function a(a){var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,k=a.propsForVPVD,l=a.renderComponents,m=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","propsForVPVD","renderComponents","renderPlaceholder"]);g.useEffect(function(){return function(){}},[]);var n=e!=null?b("GlobalVideoPortsID").ensureVideoID(e):null;e!=null&&n==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=b("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:d,portalingFromVideoID:n});d=e.canBecomePortableLater;n=e.currentVideoID;var o=e.globalVideoPortsManager,p=e.globalVideoPortsState;e=e.thisPlaceID;var q=g.useContext(b("CometViewportMarginsContext")),r=g.useRef(null);k=i(k);var s=k[0];k=k[1];var t=b("useStable")(function(){return b("VideoPlayerFullscreenController").createFullscreenController(r)}),u=g.useState(t.getIsFullscreen()),v=u[0],w=u[1];g.useEffect(function(){var a=t.subscribe(function(){var a=t.getIsFullscreen();w(a)});w(t.getIsFullscreen());return function(){a.remove()}},[t,w]);u=g.useContext(b("CometTrackingNodesContext"));u=u.join("");var x=g.useContext(b("CometTrackingCodeContext"));x=(x=x.encrypted_tracking[0])!=null?x:"";s=b("useMergeRefs")(r,s);q=v?h:q;if(!d)return g.jsxs(j,{debugRole:null,ref:s,children:[g.jsx(b("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:e,currentVideoID:n,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:e,children:g.jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:t,implementations:c,isFullscreen:v,renderWithCoreVideoStates:l,trackingDataEncrypted:x,trackingNodes:u,viewportMarginsForViewability:q}))}),k]});if(o&&p)return g.jsxs(j,{debugRole:null,ref:s,children:[g.jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:n,fullscreenController:t,globalVideoPortsManager:o,globalVideoPortsState:p,implementations:c,isFullscreen:v,portablePlaceMetaData:f,renderComponents:l,renderPlaceholder:m,thisPlaceID:e,trackingDataEncrypted:x,trackingNodes:u,viewportMarginsForViewability:q}),k]});else return g.jsxs(j,{debugRole:null,ref:s,children:[g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:n,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:m,thisPlaceID:e}),k]})}}),null);
__d("VideoPlayerTracePolicyContext",["React"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerTracePolicy=a;var g=b("React");c={initialTracePolicy:null,routeTracePolicy:null};var h=g.createContext(c);f.VideoPlayerTracePolicyContext=h;function a(){return g.useContext(h)}}),null);
__d("VideoPlayerTracePolicyProvider.react",["React","VideoPlayerTracePolicyContext"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useEffect,i=c.useState,j=b("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext;function a(a){var b=a.children,c=a.initialTracePolicy,d=a.routeTracePolicy;a=i(c);var e=a[0],f=a[1];a=i(d);var k=a[0],l=a[1];h(function(){e!==c&&f(c),k!==d&&l(d)},[c,d,e,k]);return g.jsx(j.Provider,{value:{initialTracePolicy:e,routeTracePolicy:k},children:b})}e.exports=a}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,h=a.portalingPlaceMetaData,i=a.portalingRenderPlaceholder,j=a.propsForVPVD;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD"]);var k=g.useCallback(function(a){return g.jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:c}))},[c]);return g.jsx(b("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:g.jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:h,propsForVPVD:j,renderComponents:k,renderPlaceholder:i}))})}}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createCaptionsController=a;var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.hideErrorDialogIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(a.PureComponent);e.exports=c}),null);
__d("CometWatchAndScrollHooks",["CometWatchAndScrollSetUnmutedPlayingVideoContext","CometWatchAndScrollUnmutedPlayingVideoContext","CometWatchAndScrollVideoContext","React","VideoPlayerHooks","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(){var a=b("VideoPlayerHooks").useController(),c=b("VideoPlayerHooks").useMuted(),d=g.useContext(b("CometWatchAndScrollVideoContext")),e=b("VideoPlayerHooks").usePlaying(),f=g.useContext(b("CometWatchAndScrollSetUnmutedPlayingVideoContext"));g.useEffect(function(){if(!c&&d!=null&&e&&a!==(d==null?void 0:d.controller)){var b=d.controller.getCurrentState();!b.muted&&b.playing&&d.controller.setMuted(!0,"product_initiated")}!c&&e&&f!=null&&f({controller:a})},[a,d,c,f,e])}function c(){var a=b("VideoPlayerHooks").useController(),c=b("VideoPlayerHooks").useMuted(),d=b("VideoPlayerHooks").usePlaying(),e=g.useContext(b("CometWatchAndScrollUnmutedPlayingVideoContext"));g.useEffect(function(){if(!c&&e!=null&&d&&a!==(e==null?void 0:e.controller)){var b=e.controller.getCurrentState();!b.muted&&b.playing&&e.controller.setMuted(!0,"user_initiated")}},[c,e,a,d])}d=b("gkx")("1590815")?b("emptyFunction"):c;f.useMuteUnmutedVideo=d;e=b("gkx")("1590815")?b("emptyFunction"):a;f.useMuteUnmutedWatchAndScrollVideo=e}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayApi=a;f.useVideoAutoplayLocalScope=c;var g=b("React");function a(){var a=g.useContext(b("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw b("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function c(){return g.useContext(b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}}),null);
__d("VideoPlayerDebugAutoplayAPI",["emptyFunction","requireCond","cr:1453865"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:b("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:b("emptyFunction"),useVideoPlayerDebugInfo:b("emptyFunction").thatReturns(null)};e.exports=c}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule"}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule"}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g.useEffect(function(){c.current=e.getRules()},[e]);return e}}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayControlID=a;f.createConcurrentAutoplayManagementAPI=h;f.useConcurrentAutoplayManagementAPI=c;var g=b("React");function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g.useState(function(){return h()});a=a[0];return a}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","JSScheduler","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=(a=b("VideoPlayerHooks")).useAdClientToken(),d=a.useAutoplayGatingResult(),e=a.useBroadcastStatus(),f=a.useEnded(),h=a.useIsFrozenPassive(),i=a.useLastPauseReason(),j=a.useLastPlayReason(),k=a.useMuted(),l=a.usePaused(),m=g.useContext(b("HiddenSubtreePassiveContext"));a=!c;var n=b("useIsBackgrounded")({scrollTerminatesBackgrounded:a}),o=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo();a=g.useState(m.getCurrentState().backgrounded);var p=a[0],q=a[1];a=g.useState(m.getCurrentState().hidden);var r=a[0],s=a[1];g.useEffect(function(){function a(a,b){s(a),q(b)}var c=m.subscribeToChanges(function(c){b("gkx")("1500552")?b("JSScheduler").next(function(){var b=m.getCurrentState();a(b.hidden,b.backgrounded)}):a(c.hidden,c.backgrounded)}),d=m.getCurrentState().hidden,e=m.getCurrentState().backgrounded;b("gkx")("1500552")?b("JSScheduler").next(function(){var b=m.getCurrentState();a(b.hidden,b.backgrounded)}):a(d,e);return function(){c.remove()}},[m,q,s]);a=g.useState(function(){return h.getCurrentState()});var t=a[0],u=a[1];g.useEffect(function(){var a=h.subscribeToChanges(function(a){u(a)}),b=h.getCurrentState();u(b);return function(){a.remove()}},[h,u]);var v=g.useMemo(function(){return{adClientToken:c,autoplayGatingResult:d,broadcastStatus:e,controllerIsFrozen:t,currentSubtreeIsBackgrounded:p,currentSubtreeIsHidden:r,ended:f,hiddenSubtreePassive:m,isBackgrounded:n,isFrozenPassive:h,lastPauseReason:i,lastPlayReason:j,muted:k,paused:l,videoPlayerPassiveViewabilityInfo:o}},[c,d,e,t,p,r,f,m,n,h,i,j,k,l,o]);a=g.useState(v);var w=a[0],x=a[1],y=g.useRef(w);g.useEffect(function(){y.current=w},[w]);g.useEffect(function(){var a=!1;for(var b in v)if(Object.prototype.hasOwnProperty.call(v,b)&&v[b]!==y.current[b]){a=!0;break}a&&x(v)},[v,x]);return w}}),null);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useCanAutoplay(),e=a.useInstanceKey(),f=g.useMemo(function(){return b("makeSelectedAutoplayVideoSymbol")(c,e)},[c,e]),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=g.useContext(b("HiddenSubtreePassiveContext")),j=a.useController(),k=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID();g.useEffect(function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[ASSUME CONTROL] "+k),j.registerControllingComponent(k)},[j,k]);var l=a.useVideoPlayerPassiveViewabilityInfo(),m=b("useVideoAutoplayState")(),n=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),o=g.useRef(n);g.useEffect(function(){o.current=n},[n]);var p=b("useAutoplayRulesEngine")(n.autoplayLocalRules),q=d==="allow"?b("evaluateVideoAutoplayDefaultAllowRule"):b("evaluateVideoAutoplayDefaultIgnoreRule");a=g.useState(function(){return q});var r=a[0],s=a[1];a=g.useState(null);var t=a[0],u=a[1];a=g.useState(function(){return p.evaluateAutoplay(m,q)});var v=a[0],w=a[1];a=g.useState(null);var x=a[0],y=a[1],z=g.useRef(v),A=b("VideoPlayerAutoplayHooks").useAutoplayApi(),B=g.useRef(A);g.useEffect(function(){B.current=A},[A]);var C=d!=="dangerously_disable_autoplay_management";g.useEffect(function(){A.register(f,e,n,j,i,C);b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z.current}});return function(){A.unregister(f),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z.current}})}},[A,n,j,i,e,C,f]);g.useEffect(function(){var a=function(){var c=p.evaluateAutoplay(m,q);z.current=c;var d=p.getRules(),e=p.getIndexOfLastWinningRule(),a=e>=0?d[e]:q;d=l&&l.getCurrent();e=j.getCurrentState();e=e.paused;(x===null||x!==c)&&(w(c),y(c));if(c==="PAUSE"&&!e&&j.isControllingComponent(k)){e="[PAUSE] via short-circuit on "+a.name+".";b("CoreVideoPlayerAutoplayClientUtils").log(h.current,e);j.pause("autoplay_initiated");b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}})}(t===null||t!==a)&&(s(function(){return a}),u(function(){return a}),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:A.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}}));b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[DECISION: "+c+"] from "+a.name);d&&A.update(f,c,d)},c=i.subscribeToChanges(function(a){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(k)||j.unregisterControllingComponent(k):j.registerControllingComponent(k)}),d=l?l.subscribe(function(){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(k)||j.unregisterControllingComponent(k):j.registerControllingComponent(k),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[A,k,p,j,q,i,t,x,s,w,u,y,f,m,l]);g.useEffect(function(){var a=j.isControllingComponent(k),c=j.getCurrentState();c=c.paused;b("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(v,z.current,c,a)&&(b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[PAUSE] the video for "+v),j.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:o.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:B.current.getAutoplayManagerDebugInfo(o.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:v}}))},[v,j,k]);g.useEffect(function(){return function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[RELEASE CONTROL] "+k),j.unregisterControllingComponent(k)}},[j,k]);b("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:r,autoplayApiRef:B,autoplayDecision:v,autoplayLocalScope:n,symbol:f});return null}}),null);
__d("VideoPlayerCaptionsAreaDeferred.react",["React","deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";b("React");a=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react"));e.exports=a}),null);
__d("WebSessionExtensionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setLoggerConfigContext=function(a){this.$1.logger_config_context=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWebsessionID=function(a){this.$1.websession_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_time:!0,logger_config_context:!0,reason:!0,time:!0,websession_id:!0,weight:!0};e.exports=a}),null);
__d("WebSessionExtender",["WebSession","WebSessionExtensionTypedLogger","clearInterval","gkx","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=2e4,h=new Set(),i=null;a={subscribe:function(a,c){c===void 0&&(c="extender");h.add(a);var d=b("gkx")("1252196");i==null&&(b("WebSession").extend(Date.now()+g+2e3),i=b("setInterval")(function(){b("WebSession").extend(Date.now()+g+2e3),d&&new(b("WebSessionExtensionTypedLogger"))().setClientTime(Date.now()).setWebsessionID(b("WebSession").getId()).setReason(c).log()},g))},unsubscribe:function(a){h["delete"](a);a=h.size;a===0&&i!=null&&(b("clearInterval")(i),i=null)}};e.exports=a}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").usePlaying(),c=b("useCometUniqueID")();g.useEffect(function(){if(a){b("WebSessionExtender").subscribe(c,"video");return function(){b("WebSessionExtender").unsubscribe(c)}}},[a,c]);return null}}),null);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("VideoPlayerHooks").useStalling(),c=b("VideoPlayerHooks").useStreamInterrupted(),d=b("VideoPlayerHooks").useIsLiveRewindActive();c=c&&!d;d=a;a=c?"live_video_interrupted_overlay":d?"spinner":"none";return{liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:a,spinnerVisible:d}}}),null);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","React","deferredLoadComponent","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react"));function a(){var a=b("useVideoPlayerDefaultLoadingIndicatorsLogic")(),c=a.loadingIndicatorType;a=a.spinnerVisible;var d=g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(i,{})});a=g.jsx(h,{isVisible:a});var e=null;switch(c){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:c}}}),null);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"})}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_BEEPER:"live_beeper"})}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";var g=b("DateConsts").MS_PER_SEC;a=function(){function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null;this.$5=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,b,c,d){var e=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(e={m:d,pf:Math.floor((b-a)*g),s:c,sa:Math.floor(a*g)});d={pps:this.$4,ps:e,si:this.$2,so:this.$3,vi:this.$1};this.$4=e;return d};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return Object.assign({},a,e)};c.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=Object.values(b("CVCv3DisabledPlayerOrigins")),h=Object.values(b("CVCv3DisabledPlayerSubOrigins")),i=10;a=function(){function a(a,c,d,e,f,i,j){var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?g.includes(c):!1;f=d!=null?h.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=i,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){if(this.$3==null)return;var c=!1;this.$7!=null&&(c=b("gkx")("1113562"));c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,i*b("DateConsts").MS_PER_SEC)},a)};c.$19=function(a){this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var c=a.a.t;switch(c){case"p":c=a.a.pi;c==null&&(c=i);this.$15(c*b("DateConsts").MS_PER_SEC);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};c.$20=function(){if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerUnifiedCVCProvider=a;c=b("createVideoStateHook").createVideoStateHook(null);var g=c.setterHook;d=b("createVideoStateHook").createVideoStateHook(null);var h=d.setterHook;e=d.valueHook;function a(a){var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,i=b("VideoPlayerHooks").useIsLive(),j=b("VideoPlayerHooks").useIsFullscreen(),k=b("VideoPlayerHooks").useController(),l=g(),m=h();b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(j,d),e,k,i,function(a){m(a)},c);l(a);return function(){a.destroy()}},[c,j,i,d,m,l,e,k,f])}a=e;f.useVideoPlayerUnifiedCVCData=a}),null);
__d("VideoPlayerXImplSurface.react",["CometWatchAndScrollHooks","CoreVideoPlayerAutoplayClient.react","React","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","emptyFunction","gkx","requireCond","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider","cr:1583596","cr:946298"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c,d=a.children,e=a.disableLoadingIndicator;e=e===void 0?!1:e;var f=a.instreamVideoAdBreaksPlayer,h=a.livingRoomID,i=a.playerFormat,j=a.subOrigin,k=a.videoFBID;a=a.videoPlayerSpherical;c=(c=b("CometWatchAndScrollHooks").useMuteUnmutedWatchAndScrollVideo)!=null?c:b("emptyFunction");b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({livingRoomID:h,playerFormat:i,subOrigin:j,videoFBID:k});c();h=b("useVideoPlayerDefaultLoadingIndicators")();i=h.loadingIndicatorElement;return g.jsxs(g.Fragment,{children:[a,e?null:i,b("gkx")("1586633")?g.jsx(b("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,g.jsx(b("VideoPlayerCaptionsAreaDeferred.react"),{children:d}),g.jsx(b("CoreVideoPlayerAutoplayClient.react"),{}),b("cr:1583596")?g.jsx(b("cr:1583596"),{}):null,b("cr:946298")?g.jsx(b("cr:946298"),{subOrigin:j}):null,f,g.jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}}),null);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);if(a==null){d=((c=c)!=null?c:!1)?(c=d)!=null?c:0:0;d===-1?c=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?c=0:c=d}else if(a===-1||a===Number.POSITIVE_INFINITY)c=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw b("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else c=a;return c}}),null);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","React","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","usePlayerOriginRouteTracePolicy"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,h=a.portalingEnabled,i=a.portalingFromVideoID,j=a.portalingPlaceMetaData,k=a.portalingRenderPlaceholder,l=a.propsForVPVD,m=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","propsForVPVD","videoPlayerSpherical"]);var n=b("usePlayerOriginRouteTracePolicy")(),o=a.loopCount,p=a.playerFormat,q=a.subOrigin,r=a.videoFBID;o=b("normalizeVideoPlayerLoopCount")(o);return g.jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:o,portalingEnabled:h,portalingFromVideoID:i,portalingPlaceMetaData:j,portalingRenderPlaceholder:k,propsForVPVD:l,routeTracePolicy:n,children:g.jsx(b("VideoPlayerXImplSurface.react"),{children:c,disableLoadingIndicator:d,instreamVideoAdBreaksPlayer:f,livingRoomID:a.livingRoomID,playerFormat:p,subOrigin:q,videoFBID:r,videoPlayerSpherical:m})}))}}),null);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoAutoplayGatingResult=a;function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}}),null);
__d("getVideoPlayerAutoplayProps",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c=c!=null?c:"respect_user_settings";var e=c==="dangerously_always_autoplay";d=d!=null?d:"unknown";var f=b("gkx")("1454109")?a.autoplaySetting||"default_autoplay":a.autoplaySetting,g=b("gkx")("1454109")?f==="off":!1;e=e||c==="respect_user_settings"&&!g&&a.canAutoplay;g=c==="do_not_autoplay"?d:a.autoplayGatingResult;d=e?"allow":c==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:g,autoplaySetting:f,canAutoplay:d}}}),null);
__d("VideoPlayerFallbackCover.react",["fbt","React","requireCond","cr:1405514"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c;c=(c=a.message)!=null?c:g._("Tenemos problemas para reproducir este video.");return h.jsx(b("cr:1405514"),{message:c,onRetry:a.onRetry})}}),null);
__d("VideoPlayerRetryableErrorBoundary.react",["React","VideoPlayerErrorBoundary.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.description,e=a.fallback;a=g.useState(0);var f=a[0],h=a[1],i=g.useCallback(function(){h(function(a){return a+1})},[]);a=g.useCallback(function(){return e({retry:i})},[e,i]);return g.jsx(b("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:c},f)}}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","BanzaiConsts","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h="video_player";a=b("emptyFunction");c=function(){function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.subOrigin};a=(a=a.logData)==null?void 0:a.ad_client_token;var d=b("gkx")("1426867")?{batch:1500,delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT}:{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT};b("gkx")("1107827")?b("Banzai").post(h,c,d):a!=null?b("Banzai").post(h,c,b("Banzai").VITAL):(d.delay=(g||(g=b("BanzaiConsts"))).BASIC_WAIT_COMET,b("Banzai").post(h,c,d))})};return a}();e.exports=c}),null);
__d("VideoPlayerBanzaiODS",["BanzaiODS","Random"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){b("Random").coinflip(d)&&b("BanzaiODS").bumpEntityKey(2079,a,c,d)};f.bumpEntityKey=a}),null);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}e.exports=a}),null);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}e.exports=a}),null);
__d("VideoPlayerImplementationErrors",["getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerErrorFromHTMLVideoElementError=a;f.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=c;f.createVideoPlayerErrorFromGenericError=d;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachine=m;f.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;f.createReactVideoElementCallbacksForStateMachine=c;function g(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function h(a){var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=g({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function i(a,c,d){switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var e=a.playbackState,f=e;switch(e){case"playing":case"stalling":case"ended":case"paused":f="stalling";break;default:e;b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player");break}e=!0;return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:e});case"dom_event_playing":f=a.bufferingDetected;e=a.seeking;var g=!1,i=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:i,seeking:e,waitingForDomPlaying:g}),waitingForDomPlaying:g});case"dom_event_timeupdate":if(a.waitingForDomTimeUpdateAfterSeeked){f=a.bufferingDetected;i=a.seeking;e=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:g,seeking:i,waitingForDomPlaying:e}),waitingForDomPlaying:e,waitingForDomTimeUpdateAfterSeeked:!1})}return a;case"dom_event_seeking":f=a.playbackState;g=f;switch(f){case"paused":case"ended":break;case"stalling":case"playing":g="stalling";break;default:f,b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:g,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":i=a.bufferingDetected;e=a.waitingForDomPlaying;f=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:e}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":i=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:i,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:d.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,playbackState:"paused",waitingForDomPlaying:!1});case"controller_play_requested":if(a.playbackState!=="paused"&&a.playbackState!=="ended")return a;e=a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1?d.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0;return babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,loopCurrent:e,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=c.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(i=c.videoElementPlayheadPosition)!=null?i:a.implementationSeekSourcePosition,scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":g=a.playbackState;e=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:g;b("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":f=a.seeking;c=a.waitingForDomPlaying;i=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:i,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:c})});case"controller_set_captions_visible_requested":e=d.payload.captionsVisible;return a.captionsVisible===e?a:babelHelpers["extends"]({},a,{activeCaptions:e?a.activeCaptions:null,captionsVisible:e});case"controller_set_active_captions_requested":i=d.payload.activeCaptions;f=(g=i==null?void 0:i.rows)!=null?g:[];c=a.activeCaptions;var j=(e=c==null?void 0:c.rows)!=null?e:[];return j.length===f.length&&f.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:i});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":g=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===g?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:g});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":c=d.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:c});case"controller_set_is_live_rewind_active_requested":e=d.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:e});case"loop_count_change_requested":f=d.payload.loopCount;return f===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:f,loopCurrent:0});default:return a}}function j(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=i(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var k,l;function m(a){var c=a.collectUncontrolledState,d=a.initialState,e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,k=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!k){k=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=j(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var n,o;function a(a){var b=a.collectUncontrolledState,c=a.stateTransitionHandlers,d=a.initialState;a=a.onFatalError;function e(a,b,d){try{var e=!0,f=0;while(e&&f<c.length){var g=c[f];e=g(a,b,d);++f}}finally{}}return m({collectUncontrolledState:b,initialState:d,onDispatched:e,onFatalError:a})}function c(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){var e=d(c.currentTarget);b(e,["reactEvent("+c.type+")"]);a.dispatch({payload:{videoElementError:e.error,videoElementNetworkState:e.networkState,videoElementReadyState:e.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.makeHostCallID=g;f.applyOrQueueHostCall=i;f.flushHostCallQueue=a;c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;default:d.type;return!1}return!0}function i(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";f.getVideoPlayerMutedStateChange=a;function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){var g=b("guid")().slice(-8);function a(){return g}e.exports=a}),null);
__d("VideoPlayerImplementationStateMachineLogger",["VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f){"use strict";var g,h=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange,i=6e4,j=.5,k=null,l=function(a){var b;k=(b=k)!=null?b:document.createElement("video");return!("canPlayType"in k)?"":k.canPlayType(a)};d=c=b("emptyFunction");f=c;d=c;f=c;function m(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function n(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],k=m(),o=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function p(a){k.debugSubscribers.push(a);return function(){b("removeFromArray")(k.debugSubscribers,a)}}function q(a){k.debugSubscribers.forEach(function(b){return b(a)})}function r(a){var b=k.stallStartTimestamp;if(b>0){k.stallCount+=1;k.stallCountTotal+=1;k.hasPendingRequestedPlaying&&(k.startStallCountTotal+=1);a=a-b;k.stallDurationTotal+=a;k.stallDuration+=a;k.stallCount200ms+=a>200?1:0;k.hasPendingRequestedPlaying&&(k.startStallDurationTotal+=a)}}function s(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"representation_ended":c=k.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":k.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"representation_ended":k.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function t(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(q("stall_start"),k.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),k.stallStartTimestamp=0,q("stall_end"))}function u(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:k.stallCount,stall_count_200_ms:k.stallCount200ms,stall_time:k.stallDuration};k.stallCount=0;k.stallCount200ms=0;k.stallDuration=0;k.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(k.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"representation_ended":r(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function v(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function w(){return{state:k.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}}function x(e){var g=e.eventType,h=e.logDataOverrides,i=e.prevState,j=e.state;e=s(j,g);e=e.video_last_start_time_position;i=u(i,j,g);var l=i.stall_count,m=i.stall_count_200_ms;i=i.stall_time;var p=[],q=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;q&&p.push(q);q=g==="entered_fs"?!0:g==="exited_fs"?!1:k.lastLoggedFullscreenState;var r=b("getPlayerFormatForLogData")(q,d.coreVideoPlayerMetaData.playerFormat),t=j.uncontrolledState.viewabilityPercentage,w=Boolean(j.uncontrolledState.isFBIsLiveTemplated),x=Boolean(j.uncontrolledState.isFBWasLive);x={ad_client_token:d.coreVideoPlayerMetaData.adClientToken,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(p),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:n(j,g),current_viewability_percentage:t,data_connection_quality:b("VideoPlayerConnectionQuality").evaluate(function(){return j.uncontrolledState.estimatedBandwidth}),dropped_frame_count:j.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,is_abr_enabled:j.isAbrEnabled,is_fbms:j.uncontrolledState.isFBMS,is_sound_on:!j.controlledState.muted,is_live_video_rewound:j.controlledState.isLiveRewindActive,is_templated_manifest:w||x,last_viewability_percentage:k.lastLoggedViewabilityPercentage,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_duration:j.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:r,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:v(j),player_suborigin:d.coreVideoPlayerMetaData.subOrigin,player_version:j.playerVersion,representation_id:j.uncontrolledState.videoRepresentationID,stall_count:l,stall_count_200_ms:m,stall_time:i,streaming_format:j.streamingFormat,total_frame_count:j.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:b("gkx")("1434599")&&g==="heart_beat"?!0:null,video_bandwidth:j.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:e,video_play_reason:j.controlledState.lastPlayReason,video_player_height:(p=d.dimensions)==null?void 0:p.height,video_player_width:(w=d.dimensions)==null?void 0:w.width,video_time_position:j.uncontrolledState.videoElementPlayheadPosition};r={event_seq_num:++k.vplEventSequenceNumber,seq_num:o.has(g)?++k.sequenceNumber:null,time_ms:Date.now()};var y={};c.forEach(function(a,b){y[b]=a});l=babelHelpers["extends"]({},y,x,h,r);i=(m=k.initialSuborigin)!=null?m:d.coreVideoPlayerMetaData.subOrigin;p=(e=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?e:d.coreVideoPlayerMetaData.routeTracePolicy;w={eventType:g,logData:l,routeTracePolicy:p,subOrigin:i};f.push(w);k.initialSuborigin==null&&i!=null&&(k.initialSuborigin=i);k.lastLoggedFullscreenState=q;g==="viewability_changed"&&(k.lastLoggedViewabilityPercentage=t)}var y={};function z(a,b,c){x({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,w()),prevState:a,state:b});k.hasPendingRequestedPlaying=!0;k.canLogPausedOrFinishedPlaying=!0;return y}function A(a,b,c){if(!k.canLogPausedOrFinishedPlaying)return y;else if(k.hasPendingRequestedPlaying){B(a,b,c);k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return y}else{x({eventType:"paused",logDataOverrides:c,prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;k.hasPendingRequestedPlaying=!1;return y}}function B(a,b,c){x({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,w()),prevState:a,state:b});return y}function C(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&k.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){B(a,b,{debug_reason:"not_allowed"});return y}else return y}else return y}function D(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!k.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;z(a,b,c);return y}else return y}function E(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&k.canLogPlayingEvent){x({eventType:k.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});k.hasLoggedStartedPlaying=!0;k.canLogPlayingEvent=!1;k.hasPendingRequestedPlaying=!1;return y}else return y}function F(a,c,d){var e=c.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){A(a,c);k.isLoggingScrubbingSequence=!0;return y}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!k.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!k.hasPendingRequestedPlaying){A(a,c);k.shouldLogRequestedPlayingForScrub=!0;return y}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){z(a,c,{video_time_position:d.payload.seekTargetPosition});return y}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!b("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>j)&&(k.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&z(a,c),x({eventType:"scrubbed",prevState:a,state:c}),k.isLoggingScrubbingSequence=!1,k.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(k.canLogPlayingEvent=!0));return y}else return y}function G(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&k.canLogPausedOrFinishedPlaying){x({eventType:"finished_playing",prevState:a,state:b});k.canLogPausedOrFinishedPlaying=!1;return y}else return y}function H(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!k.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){A(a,b);return y}else return y}function I(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){b("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?A(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&A(a,c,{debug_reason:"unloaded"});return y}else return y}function J(a,c,d){d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=h({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":x({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return y;case"unmuted":x({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return y;case null:if(g<e){x({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return y}else if(g>e){x({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return y}else return y;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return y}}function K(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=k.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){x({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});k.lastTrackedRepresentation=c;q("quality_change");return y}else if(d==null&&d!==c){k.lastTrackedRepresentation=c;return y}else return y}function L(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),l),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:k.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:k.stallCount,stallTime:k.stallDuration,state:v(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function M(a,c,d){var e=c.controlledState.error;if(e!=null&&e!==k.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.url,i=e.errorCode==null||e.errorCode===""?g:e.errorCode;d=L(c,d);x({eventType:"error",logDataOverrides:babelHelpers["extends"]({},b("gkx")("1565232")?w():null,{error:g,error_code:i,error_description:f,error_domain:g,error_user_info:JSON.stringify(d),resource_url:h}),prevState:a,state:c});k.lastLoggedError=e}return y}function N(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?k.nextHeartbeatTime=null:c!=="stalling"&&k.nextHeartbeatTime==null&&(k.nextHeartbeatTime=Date.now()+i);var d=k.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&x({eventType:"heart_beat",prevState:a,state:b}),k.nextHeartbeatTime=e+i)}return y}function O(a,b,c){if(c.type==="implementation_mounted"){x({eventType:"player_loaded",prevState:a,state:b});return y}else return y}function P(a,b,c){x({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function Q(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&x({eventType:"player_format_changed",prevState:a,state:b});return y}function R(a,b,c){if(c.type!=="notify_fullscreen_changed")return y;c=k.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){P(a,b,d);return y}else if(c===!0&&d===!1){P(a,b,d);return y}else return y}function S(a,c,e){e=d.coreVideoPlayerMetaData.adClientToken;if((e==null||e==="")&&b("gkx")("1401747"))return y;e=c.controlledState.playbackState;var f=k.lastLoggedViewabilityPercentage,g=c.uncontrolledState.viewabilityPercentage;if(e!=="paused"&&e!=="ended"&&f!=null&&f!==g){x({eventType:"viewability_changed",prevState:a,state:c});return y}else return y}function T(a,b,c){if(c.type==="controller_set_captions_visible_requested"){x({eventType:"caption_change",prevState:a,state:b});return y}else return y}function U(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{addDebugSubscriber:function(a){return p(a)},consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return k},handleStateMachine:function(a,b,c){U(c);var d=b.controlledState.playbackState;t(a,b);var e=[Q,R,S,C,D,F,E,G,H,J,I,O,T,K,M,N];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(k.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(k.hasPausedOnce=!0,k.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(k.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(k.shouldIgnoreDomPlay=!1,k.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},setAdditionalLogData:function(a,b){c.set(a,b)}}}e.exports={HEARTBEAT_INTERVAL:i,createVideoPlayerImplementationStateMachineLogger:a}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineStateUncontrolledState=a;function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;if(e==null){var g={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return g}g=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(g):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:b("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:b("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:g,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(g):void 0,viewabilityPercentage:a?b("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return d}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineInitialState=a;function a(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.isAbrEnabled,f=a.playerImplementationName,g=a.playerVersion;a=a.streamingFormat;var h=!0,i=1,j=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:c,error:null,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:d,isLiveRewindActive:!1,lastMuteReason:null,lastPauseReason:null,lastPlayReason:null,loopCount:0,loopCurrent:0,muted:h,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seekableRanges:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",volume:i,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1},isAbrEnabled:e,playerImplementationName:f,playerVersion:g,streamingFormat:a,uncontrolledState:j}}}),null);
__d("isPrimitive",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(Object.prototype.toString.call(a)){case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Null]":case"[object Undefined]":return!0}return!1}e.exports=a}),null);
__d("deepEquals",["isPrimitive"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return function(b,c){return i(b,a[c])}},h=function(a,b){return function(c){return c in a&&c in b&&i(a[c],b[c])}};function i(a,c){if(Object.prototype.toString.call(a)!==Object.prototype.toString.call(c))return!1;if(b("isPrimitive")(a))return a===c;if(Array.isArray(a))return a.length===c.length&&a.every(g(c));var d=Object.keys(a);return d.length!==Object.keys(c).length?!1:d.every(h(a,c))}e.exports=i}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","FBLogger","FBLoggerMetadata","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerBanzaiODS","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","clearTimeout","deepEquals","err","gkx","killswitch","recoverableViolation","removeFromArray","requireCond","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable","cr:683059"],(function(a,b,c,d,e,f){"use strict";f.internal_createVideoPlayerImplementationControllerImpl=j;f.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=m;f.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=q;f.createVideoPlayerImplementationEngine=a;f.useVideoPlayerImplementationEngine=c;var g=b("React"),h=6e4,i=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var c=a.prototype;c.playRequest=function(a){var c=this;this.$1.push(a);return function(){b("removeFromArray")(c.$1,a)}};c.pauseRequest=function(a){var c=this;this.$2.push(a);return function(){b("removeFromArray")(c.$2,a)}};c.scrubBeginRequest=function(a){var c=this;this.$3.push(a);return function(){b("removeFromArray")(c.$3,a)}};c.scrubEndRequest=function(a){var c=this;this.$4.push(a);return function(){b("removeFromArray")(c.$4,a)}};return a}();function j(a){var c=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentPlayheadPosition,j=a.loggerAPI,k=a.pauseImpl,m=a.playImpl,n=a.scrubBeginImpl,o=a.scrubEndImpl,p=a.seekImpl,q=a.selectVideoQualityImpl,r=a.setCaptionsVisibleImpl,s=a.setIsLiveRewindActiveImpl,t=a.setMutedImpl,u=a.setVolumeImpl,v=a.subscribers,w=a.videoElementAPIRef,x=new Set(),y=!1,z=null,A=[],B=[],C=[],D=[],E=new i({pauseRequestCallbacks:B,playRequestCallbacks:A,scrubBeginRequestCallbacks:C,scrubEndRequestCallbacks:D}),F={freeze:function(){if(!f().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;x.size===0&&(c=!0,z={exposedState:f(),isFullscreen:g(),playheadPosition:h()});x.add(a);c&&(y=!0,v.forEach(function(a){a()}))}finally{y=!1}return a},isFrozen:function(){return z!=null},unfreeze:function(a){if(!x.has(a))throw b("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");x["delete"](a);x.size===0&&(z=null,v.forEach(function(a){a()}))}};return babelHelpers["extends"]({},c,F,j,{debugAPI:d,getCurrentState:function(){return z!=null?z.exposedState:f()},getIsFullscreen:function(){return z!=null?z.isFullscreen:g()},getPlayheadPosition:function(){return z!=null?z.playheadPosition:h()},internal_getVideoElement:function(){if(w!=null){var a=l(w);if(a!=null){a=a.getUnderlyingVideoElement();return a}}return null},observeOn:function(){return E},pause:function(a){if(F.isFrozen())return;B.forEach(function(b){return b(a)});k(a)},play:function(a){if(F.isFrozen())return;A.forEach(function(b){return b(a)});m(a)},requestSetIsFullscreen:function(a){if(F.isFrozen())return;var b=e.current;b&&b.requestSetIsFullscreen(a)},scrubBegin:function(){if(F.isFrozen())return;C.forEach(function(a){return a()});n()},scrubEnd:function(a){if(F.isFrozen())return;D.forEach(function(b){return b(a)});o(a)},seek:function(a){if(F.isFrozen())return;p(a)},selectVideoQuality:function(a){if(F.isFrozen())return;q(a)},setCaptionsVisible:function(a){if(F.isFrozen())return;r(a)},setIsLiveRewindActive:function(a){if(F.isFrozen())return;s(a)},setMuted:function(a,b){if(F.isFrozen())return;t(a,b)},setVolume:function(a){if(F.isFrozen())return;u(a)},subscribe:function(a){var c=function(){if(F.isFrozen()&&!y)return;a()},d=e.current,f=d?d.subscribe(c):null;v.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(v,c)}}},videoElementAPIRef:w})}function k(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;a=a.videoElementAPIRef;var i={setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)}};return j({concurrentAutoplayManagementAPI:b,debugAPI:d,fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:i,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:h,videoElementAPIRef:a})}function l(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function m(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.captionsControllerRef,f=a.engineExtrasAPI,g=a.engineMetadata,i=a.fullscreenControllerRef,j=a.handleFatalError,k=a.handleStateMachine,m=a.videoElementAPIRef,o=a.videoLiveTraceRef,p=a.videoPlayerPassiveViewabilityInfoRef;function q(a){b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:f,hostCall:a,machine:s,videoElementAPI:m.current})}var r=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){k(a,b,c);return!0},function(a,c,d){(a.controlledState.bufferingDetected===!1&&c.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&c.controlledState.bufferingDetected===!1)&&(r!==null&&(b("clearTimeout")(r),r=null),c.controlledState.bufferingDetected&&(r=b("setTimeout")(function(){r=null;var a=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("BUFFERING_TIMEOUT",b("err")("The video has been in a buffering state for over "+h+" ms."),"buffering_timeout");s.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"})},h)));return!0},function(a,c,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;r!==null&&b("clearTimeout")(r);r=null;return!1},function(a,c,d){if(!(d.type==="implementation_engine_initialized"))return!0;a=l(m);d=d.type;b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:f,machine:s,reason:d,state:c,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&s.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,c,d){if(!(d.type==="controller_pause_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="paused"))return!1;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_pause"});return!1},function(a,c,d){if(!(d.type==="controller_play_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="stalling"))return!1;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_play"});return!1},function(a,c,d){if(!(d.type==="controller_seek_requested"))return!0;a=c.controlledState;c=a.seeking;a=a.seekTargetPosition;c&&a!=null&&q({payload:{currentTime:a,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_set_current_time"});return!1},function(a,c,d){if(!(d.type==="controller_muted_requested"))return!0;a=c.controlledState.muted;if(!(a===d.payload.muted))return!1;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:d.type},type:"host_call_set_muted"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_begin_requested"))return!0;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_end_requested"))return!0;a=c.controlledState;c=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;c&&e!=null?(q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":seek"},type:"host_call_set_playback_rate"}),q({payload:{currentTime:e,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type+":seek"},type:"host_call_set_current_time"})):q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_begin_requested"))return!0;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_end_requested"))return!0;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.controlledState.targetPlaybackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_volume_requested"))return!0;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,volume:c.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,c,d){if(!(d.type==="controller_quality_requested"))return!0;q({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,selectedVideoQuality:c.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=e.current;var d=b.controlledState.captionsVisible,f=m.current;f=f?f.getPlayheadPosition():0;if(c&&d&&b.controlledState.captionsLoaded){d=c.handleTimeUpdate(f);b=a.controlledState.activeCaptions;n(b,d)&&s.dispatch({payload:{activeCaptions:d},type:"controller_set_active_captions_requested"})}c=o.current;c!=null&&c.onUpdateStatus({position:f});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=e.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(!(c.type==="controller_set_is_live_rewind_active_requested"))return!0;f.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);return!1}];var s=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=m.current;return b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:f,fullscreenControllerRef:i,videoElementAPI:a,videoLiveTraceRef:o,videoPlayerPassiveViewabilityInfoRef:p})},initialState:b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:c,areCaptionsAutogenerated:d,isAbrEnabled:g.isAbrEnabled,playerImplementationName:g.playerImplementationName,playerVersion:g.playerVersion,streamingFormat:g.streamingFormat}),onFatalError:j,stateTransitionHandlers:a});return s}function n(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function o(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function p(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function q(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.availableQualities,f=c.captionsLoaded,g=c.captionsVisible,h=c.error,i=c.inbandCaptionsAutogenerated,j=c.isLiveRewindActive,k=c.lastMuteReason,l=c.lastPauseReason,m=c.lastPlayReason,n=c.loopCount,o=c.loopCurrent,p=c.muted,q=c.playbackState,r=c.seekableRanges,s=c.seeking,t=c.seekTargetPosition,u=c.selectedVideoQuality,v=c.streamInterrupted,w=c.targetAudioQuality,x=c.targetVideoQuality;c=c.volume;var y=a.uncontrolledState,z=y.currentPlayingVideoQuality,A=y.videoElementDuration;y=y.videoElementLastBufferEndPosition;var B=q==="ended",C=q==="paused"||B,D=q==="playing",E=q==="inPlayStalling";q=q==="stalling"||E;d={activeCaptions:d,availableVideoQualities:e,bufferEnd:(d=y)!=null?d:0,captionsLoaded:f,captionsVisible:g,currentVideoQuality:(e=z)!=null?e:"",duration:(y=A)!=null?y:0,ended:B,error:h,inPlayStalling:E,inbandCaptionsAutogenerated:i,isAbrEnabled:b.isAbrEnabled,isLiveRewindActive:j,lastMuteReason:k,lastPauseReason:l,lastPlayReason:m,loopCount:n,loopCurrent:o,muted:p,paused:C,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:D,seekTargetPosition:t,seekableRanges:r,seeking:s,selectedVideoQuality:u,stalling:q,streamInterrupted:v,targetAudioQuality:w,targetVideoQuality:x,volume:c};return d}function a(a){var c,d=a.createDebugAPI,e=a.createVideoPlayerError,f=a.debugLog,g=a.destroyEngineParts,h=a.engineExtrasAPI,i=a.engineMetadata,j=a.handleFatalError,l=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,r=a.handleVideoInfoChange;f=a.initialProps;var s=a.setExposedStateInReact,t=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({initialLoggingMetaData:f.loggingMetaData}),u=new(b("VideoPlayerBanzaiLogFlusher"))(t),v={current:(a=f.videoPlayerPassiveViewabilityInfo)!=null?a:null},w={current:(a=f.fullscreenController)!=null?a:null},x={current:null},y={current:(a=f.videoLiveTrace)!=null?a:null};a=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var z=[],A=function(){z.forEach(function(a){a()}),u.flushLogs()},B={current:null},C={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:f.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:f.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=f.captionsUrl)!=null?c:null}},D={current:null},E={current:null},F=new(b("SubscriptionsHandler"))(),G="before_mounted";function H(){return G==="mounted"}var I={current:null},J=function(a){a=q({engineMetadata:i,state:a});return a},K={current:null},L={current:null},M=function(a){if(H()){if(a===K.current)return;var c=J(a);if(L.current!=null&&b("deepEquals")(L.current,c))return;K.current=a;L.current=c;s(c)}};c=function(a,b,c){t.handleStateMachine(a,b,c),M(b),A()};var N=function(a,b){},O=function(a){N(a,"state_machine_fatal_error")},P=m({alwaysShowCaptions:Boolean(f.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(f.areCaptionsAutogenerated),captionsControllerRef:x,engineExtrasAPI:h,engineMetadata:i,fullscreenControllerRef:w,handleFatalError:O,handleStateMachine:c,videoElementAPIRef:I,videoLiveTraceRef:y,videoPlayerPassiveViewabilityInfoRef:v}),Q=!1,R=function(a){var c=B.current!=null,d=I.current!=null;F.release();P.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroy_requested"});try{b("gkx")("1494163")?g(["destroyEngine("+a+")"]):Q||(Q=!0,g(["destroyEngine("+a+")"]))}catch(e){if(b("gkx")("1494163"))try{b("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:i.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:c}))}catch(a){}}var e=x.current;e!=null&&(P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"}),x.current=null,e.destroy());e=y.current;e!=null&&(y.current=null);o(null,w,D,P);p(null,v,E,P);P.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroyed"})};N=function(a,b){a=e(a,b);P.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});R("implementation_fatal_error");j(a)};function S(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function T(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function U(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var V=function(a){var c=S(a),d=T(a),e=U(a),f=x.current;e!==U(C.current)&&P.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?d!==T(C.current)&&(f.updateInbandCaptionsExpected(d),!d&&P.getCurrentState().controlledState.captionsLoaded&&P.dispatch({type:"captions_unloaded"})):(c||d)&&f==null&&(x.current=b("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:c?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:d,onCaptionsLoaded:function(){P.getCurrentState().controlledState.captionsLoaded||P.dispatch({type:"captions_loaded"})}}));C.current=a},W=function(a){h!=null&&a&&a.width>0&&a.height>0&&h.setDimensions(a)},X=function(a){a!==P.getCurrentState().controlledState.loopCount&&P.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},Y=function(a){"srcObject"in a&&(a.srcObject=null)},Z=function(a,c){if(B.current===a)return;if(!H()&&b("gkx")("1405244"))return;if(!H()){var d=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(G);d&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",d,1)}a!=null&&B.current!=null&&B.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");d=B.current;d&&Y(d);B.current=a;b("gkx")("1494163")&&(a==null&&(I.current=null));B.current!=null?(P.dispatch({type:"implementation_video_node_mounted"}),l([].concat(c,["handleVideoElement(non-null)"]))):(P.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(c,["handleVideoElement(null)"])))};f=function(a){var b;if(!H())return;o((b=a.fullscreenController)!=null?b:null,w,D,P);p((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,v,E,P);if(!r(a)){b={inbandCaptionsAutogeneratedFromManifest:C.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:C.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};V(b);W(a.loggingMetaData.dimensions);X((b=a.loopCount)!=null?b:0)}P.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};O=function(){if(G!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(G);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}H()||(G="mounted",F.addSubscriptions(b("RunComet").onUnload(function(){R("page_unload")})),F.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){R("banzai_shutdown")})),P.dispatch({type:"implementation_mounted"}),l(["handleReactMount"]))};c=function(){if(!H()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(G);a&&b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player",a,1)}H()&&(G="unmounted",P.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),R("implementation_unmounted:react_effect_cleanup"))};a=k({concurrentAutoplayManagementAPI:a,createExposedState:J,debugAPI:d({getVideoElementAPI:function(){return I.current},logger:t}),fullscreenControllerRef:w,logger:t,machine:P,subscribers:z,videoElementAPIRef:I});d=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(P,Z);var $=J(P.getInitialState());O={destroy:R,handleReactMount:O,handleReactPropsChanged:f,handleReactUnmount:c,implementationController:a,initialExposedState:$,logFlusher:u,logger:t,machine:P,notifySubscribers:A,videoElementCallbacks:d,videoElementRefCallback:function(a){Z(a,["videoElementRefCallback"])}};return{engine:O,getCaptionsInfo:function(){return C.current},getVideoElement:function(){return B.current},getVideoLiveTrace:function(){return y.current},handleCaptionsInfoChange:V,handleFatalImplementationError:N,machine:P,videoElementAPIRef:I}}function r(a){var c=new Error(a.errorDescription);c.errorName=a.errorName;c.type="error";a.stack!=null&&a.stack!==""&&(c.stack=a.stack);var d=new(b("FBLoggerMetadata"))();d.addMetadata("COMET_VIDEO","ERROR_LOCATION",a.errorLocation);a.errorCode!=null&&d.addMetadata("COMET_VIDEO","ERROR_CODE",a.errorCode);a.url!=null&&d.addMetadata("COMET_VIDEO","ERROR_URL",a.url);a=a.originalError;a!=null&&(typeof a==="string"?d.addMetadata("COMET_VIDEO","ORIGINAL_ERROR",a):a instanceof Error&&a.message!=null&&d.addMetadata("COMET_VIDEO","ORIGINAL_ERROR",a.message));c.fbloggerMetadata=d.formatMetadata();return c}function c(a,c){var d=g.useState(null),e=d[0],f=d[1],h=g.useRef(null);d=g.useState(null);var i=d[0],j=d[1],k=function(a){h.current||(h.current=a,j(a))};g.useEffect(function(){i||(h.current=null)},[i]);var l=g.useRef(a),m=g.useRef(c),n=b("useStable")(function(){return m.current({handleFatalError:b("gkx")("1444664")?k:j,initialProps:l.current,setExposedStateInReact:f})});c=(d=e)!=null?d:n.initialExposedState;d=(e=c.error)!=null?e:i;if(d!=null){if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});throw r(d)}g.useEffect(function(){n.handleReactMount();return function(){n.handleReactUnmount()}},[n]);var o=g.useRef(null);g.useEffect(function(){a!==o.current&&n.handleReactPropsChanged(a),o.current=a});return[c,n]}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";f.getDurationFromVideoElement=h;f.getLastBufferEndPositionFromVideoElement=i;f.getPlayheadPositionFromVideoElement=j;f.createVideoPlayerImplementationEngineVideoElementAPI=a;function g(a){return isNaN(a)?0:a}function h(a){return g(a.duration)}function i(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function j(a){return g(a.currentTime)}function a(a){return{getDroppedFrameCount:function(){return b("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return h(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return i(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return j(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return b("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=a.implementationController,c=a.implementationExposedState,d=a.renderWithVideoImplementationStates,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;f=g.jsxs(g.Fragment,{children:[g.jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},f,{ref:a,src:e})),d({implementationController:b,videoState:c})]});return f}}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeProgressiveImplementationData=a;function a(a){var b=a.hdSrc,c=a.hdSrcPreferred;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,sdSrc:a}}}),null);
__d("VideoPlayerWindowUtils",[],(function(a,b,c,d,e,f){a={WebKitMediaKeys:window.WebKitMediaKeys};e.exports=a}),null);
__d("VideoPlayerFairplayLicenseHandler",["EventEmitter","EventListener","SubscriptionsHandler","URI","VideoPlayerWindowUtils","XHRRequest","unrecoverableViolation"],(function(a,b,c,d,e,f){var g;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;g=a.call(this)||this;g.$VideoPlayerFairplayLicenseHandler5=new(b("SubscriptionsHandler"))();g.$VideoPlayerFairplayLicenseHandler1=d;g.$VideoPlayerFairplayLicenseHandler2=c;g.$VideoPlayerFairplayLicenseHandler3=e;g.$VideoPlayerFairplayLicenseHandler4=f;g.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("EventListener").listen(d,"webkitneedkey",g.$VideoPlayerFairplayLicenseHandler6.bind(babelHelpers.assertThisInitialized(g))));return g}var d=c.prototype;d.destroy=function(){this.$VideoPlayerFairplayLicenseHandler5.release(),this.$VideoPlayerFairplayLicenseHandler1=null,this.$VideoPlayerFairplayLicenseHandler4=null};d.$VideoPlayerFairplayLicenseHandler6=function(a){var c=this;a=a.initData;var d=new Uint16Array(a.buffer);d=String.fromCharCode.apply(null,d).substring(8);var e,f=this.$VideoPlayerFairplayLicenseHandler1;if(f.webkitKeys==null){var g=b("VideoPlayerWindowUtils").WebKitMediaKeys;if(g!=null&&g.isTypeSupported("com.apple.fps.1_0","video/mp4"))e="com.apple.fps.1_0";else throw b("unrecoverableViolation")("Key System not supported","FairplayLicenseHandler");this.$VideoPlayerFairplayLicenseHandler1.webkitSetMediaKeys(new g(e))}if(f.webkitKeys==null)throw b("unrecoverableViolation")("Could not create MediaKeys","FairplayLicenseHandler");g=this.concatInitDataIdAndCertificate(a,d);e=this.$VideoPlayerFairplayLicenseHandler1.webkitKeys.createSession("video/mp4",g);if(!e)throw b("unrecoverableViolation")("Could not create key session",e);e.contentId=d;this.$VideoPlayerFairplayLicenseHandler5.addSubscriptions(b("EventListener").listen(e,"webkitkeymessage",this.$VideoPlayerFairplayLicenseHandler7.bind(this)),b("EventListener").listen(e,"webkitkeyerror",function(a){c.emit("error",{error:"webkitkeyerror"})}))};d.concatInitDataIdAndCertificate=function(a,b){var c=new Uint16Array(new ArrayBuffer(b.length*2));for(var d=0,e=b.length;d<e;d++)c[d]=b.charCodeAt(d);b=window.atob(this.$VideoPlayerFairplayLicenseHandler2);d=new Uint8Array(new ArrayBuffer(b.length));for(var e=0;e<b.length;e++)d[e]=b.charCodeAt(e);e=0;b=new ArrayBuffer(a.byteLength+4+c.byteLength+4+d.byteLength);var f=new DataView(b),g=new Uint8Array(b,e,a.byteLength);g.set(a);e+=a.byteLength;f.setUint32(e,c.byteLength,!0);e+=4;g=new Uint16Array(b,e,c.byteLength/2);g.set(c);e+=g.byteLength;f.setUint32(e,d.byteLength,!0);e+=4;a=new Uint8Array(b,e,d.byteLength);a.set(d);return new Uint8Array(b,0,b.byteLength)};d.$VideoPlayerFairplayLicenseHandler7=function(a){var c=this,d=a.target;a=a.message;a=window.btoa(String.fromCharCode.apply(null,new Uint8Array(a)));var e=this.$VideoPlayerFairplayLicenseHandler4[d.contentId];new(b("XHRRequest"))(new(g||(g=b("URI")))(e)).setMethod("POST").setRawData(a).setResponseType("text").setResponseHandler(function(a){c.$VideoPlayerFairplayLicenseHandler8(a,d)}).setRequestHeader("Content-type","application/x-www-form-urlencoded").setErrorHandler(function(){c.$VideoPlayerFairplayLicenseHandler9()}).send()};d.$VideoPlayerFairplayLicenseHandler8=function(a,b){a=window.atob(a);var c=new Uint8Array(new ArrayBuffer(a.length*2));for(var d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);b.update(c)};d.$VideoPlayerFairplayLicenseHandler9=function(){this.emit("error",{error:"Fairplay License fetch failed"})};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a;function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){return!1},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setUserSelectedVideoQuality:a};return a}}),null);
__d("VideoPlayerProgressiveImplementationEngineUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=c;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=d;var g="hd",h="sd";function a(a){var c=[];a.sdSrc!=null&&c.push(h);a.hdSrc!=null&&c.push(g);var d=a.hdSrcPreferred&&a.hdSrc!=null&&b("gkx")("1483656")?g:h;return babelHelpers["extends"]({},a,{availableQualities:c,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function c(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function d(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","VideoPlayerBanzaiODS","VideoPlayerFairplayLicenseHandler","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","emptyFunction","gkx","requireCond","unrecoverableViolation","cr:1473550","cr:1512856"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngine=a;var g=b("emptyFunction");function h(a,c){return b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,c)}function a(a){var c=a.handleFatalError,d=a.initialProps;a=a.setExposedStateInReact;var e={current:null},f={current:null},i={current:null},j={current:null},k=function(){var a=j.current;a!=null&&(j.current=null,a())},l=function(a){k();var c=t();if(c==null)throw b("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw b("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");j.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return w.getCurrentState().controlledState.playbackState==="playing"||w.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){w.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){b("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),w.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){w.dispatch({type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=i.current;a!=null&&a.targetQuality!=null&&(i.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));w.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:c})},m={current:null},n=function(){var a=t(),c=f.current;if(a==null||c==null)return;try{var e,g=c.graphQLVideoDRMInfo,h=c.videoFBID;e=g?(e=g.fairplayCert)!=null?e:null:null;m.current=g&&e!=null&&h!=null?new(b("VideoPlayerFairplayLicenseHandler"))(e,a,h,g.videoLicenseUriMap):null;e=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);x.current=e;i.current=c;h=s();u({inbandCaptionsAutogeneratedFromManifest:q.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:q.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:h==null?void 0:h.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:h==null?void 0:h.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:h==null?void 0:h.sideLoadCaptionsUrlFromProps});w.dispatch({payload:{availableQualities:q.getAvailableVideoQualities(),selectedVideoQuality:q.getUserSelectedVideoQuality(),targetVideoQuality:q.getCurrentTargetVideoQuality()},type:"implementation_engine_initialized"});e.setPlayheadPosition(d.startTimestamp)}catch(a){v(a,"progressive_player_create_exception")}},o=function(a,c){if(c==null)return!0;else if(a.videoFBID!==c.videoFBID){var d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",d);return!1}else if(a.hdSrc!==c.hdSrc||a.sdSrc!==c.sdSrc){d=14;b("VideoPlayerBanzaiODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",d);return!1}else return!1},p=function(a){var c;c={graphQLVideoDRMInfo:(c=a.graphQLVideoDRMInfo)!=null?c:null,hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(!o(c,e.current))return!1;if(c.hdSrc==null&&c.sdSrc==null)throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");e.current=c;f.current=b("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(c);n();return!0},q=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return i.current},setUserSelectedVideoQuality:function(a){var c=i.current;if(!c)throw b("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var d=x.current;if(!d)throw b("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var e=c.targetQuality,f=c.targetSrc;i.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(c,a);c=i.current;a=c.targetQuality;c=c.targetSrc;if(b("gkx")("1467411"))c!==f&&(c==null?(k(),d.setSrc(null)):l(c)),e!=null&&a!==e&&a!=null&&w.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{d.setSrc(c);if(c!=null){e=(f=w.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?f:0;e>0&&d.setPlayheadPosition(e);w.getCurrentState().controlledState.playbackState==="playing"&&d.play();w.dispatch({payload:{targetVideoQuality:q.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),r=function(){m.current&&(m.current.destroy(),m.current=null)};c=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:q,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:h,debugLog:g,destroyEngineParts:function(){if(b("gkx")("1467411")){k();var a=x.current;a&&a.setSrc(null);i.current=null}r()},engineExtrasAPI:q,engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:c,handleVideoElementMounted:n,handleVideoElementUnmounted:function(){b("gkx")("1467411")&&k()},handleVideoInfoChange:p,initialProps:d,setExposedStateInReact:a});p=c.engine;var s=c.getCaptionsInfo,t=c.getVideoElement,u=c.handleCaptionsInfoChange,v=c.handleFatalImplementationError,w=c.machine,x=c.videoElementAPIRef;return p}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine),d=c[0];c=c[1];return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback})}}),null);